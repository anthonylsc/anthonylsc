import{j as e}from"./framer-CXIzzW3M.js";import{e as Re,d as Te,r as c}from"./vendor-Nm6aTgQn.js";import{u as Pe,s as n}from"./useGamesLocale-TWqQitiO.js";import{L as ee,p as pe,a as $e,b as Ve}from"./index-CRc8MQYr.js";const Qe=({players:f=[],hostId:v,selfId:a,gamePhase:F,partyCode:H,isHost:t,t:T})=>e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700 rounded-lg p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-purple-400 mb-4",children:T.players}),e.jsx("ul",{className:"space-y-3",children:f.map(y=>e.jsxs("li",{className:"flex justify-between items-center bg-gray-900/50 p-3 rounded-lg",children:[e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("span",{className:"font-semibold",children:[y.name,y.id===v&&" (Host) ðŸ‘‘",y.id===a&&" (You)"]})}),e.jsx("div",{className:"flex items-center",children:t&&F==="waiting"&&y.id!==v&&e.jsxs("span",{className:"relative inline-block group",children:[e.jsx("button",{onClick:()=>{console.log("Requesting kick for",y.id,"from host",n.id);try{n.emit("kick_player",{partyCode:H,playerId:y.id},k=>{console.log("kick_player ack:",k)})}catch(k){console.warn("kick emit failed",k)}},"aria-label":`${T.kick} ${y.name}`,className:"text-sm text-red-400 hover:text-red-300 bg-red-900/10 hover:bg-red-900/20 rounded px-2 py-1",children:"âœ–"}),e.jsx("div",{className:"absolute -top-9 right-0 hidden group-hover:block bg-gray-900 text-white text-sm py-1 px-2 rounded whitespace-nowrap border border-gray-700",children:T.kick})]})})]},y.id))})]});function Me(){var me,xe,ue,ge,he,fe;const{partyCode:f}=Re(),v=Te(),a=Pe(),F=c.useRef(!0),H=c.useRef(null),[t,T]=c.useState(null),[y,k]=c.useState(!0),[te,P]=c.useState(null),[se,Y]=c.useState(null),re=c.useRef(null),[ye,be]=c.useState(12),[S,j]=c.useState("waiting"),[w,ne]=c.useState(null),[M,U]=c.useState(0),[ae,ve]=c.useState(0),[J,K]=c.useState(""),[G,$]=c.useState([]),[je,le]=c.useState(null),[b,V]=c.useState(0),[N,Q]=c.useState(0),[we,X]=c.useState(!1),[De,O]=c.useState(!1),D=c.useRef(null),B=c.useRef(null),oe=c.useRef(0);c.useEffect(()=>{H.current=t},[t]),c.useEffect(()=>{const o=s=>{var x,g,r,m,z,I,R,W;if(s!=null&&s.code&&s.code!==f)try{v(`/games/${s.code}`,{replace:!0})}catch(E){console.warn("Failed to update URL on party code change",E)}T(s),k(!1),((x=s.game)==null?void 0:x.currentQuestion)>0&&((g=s.game.questions)==null?void 0:g.length)>0&&s.game.currentQuestion<s.game.questions.length?(j("playing"),U(s.game.currentQuestion)):((r=s.game)==null?void 0:r.currentQuestion)>=((m=s.game.questions)==null?void 0:m.length)&&((z=s.game.questions)==null?void 0:z.length)>0&&s.game.playerAnswers&&!s.game.playerAnswers.every(E=>E.validated)?(j("validation"),S!=="validation"&&(V(0),Q(0))):((I=s.game)==null?void 0:I.currentQuestion)>=((R=s.game.questions)==null?void 0:R.length)&&((W=s.game.questions)==null?void 0:W.length)>0&&s.game.playerAnswers&&s.game.playerAnswers.every(E=>E.validated)&&j("results")},i=()=>{P("Party not found."),k(!1),setTimeout(()=>v("/games"),3e3)},d=({question:s,questionIndex:x,timePerQuestion:g,startTime:r})=>{j("playing"),ne(s),U(x||0),K(""),$([]),X(!1),console.log("Game started, question index:",x),B.current=r||Date.now(),oe.current=g,ie(B.current,g);try{pe()}catch(m){console.warn("Failed to play switch sound",m)}},p=({question:s,questionIndex:x,timePerQuestion:g,startTime:r})=>{j("playing"),ne(s),U(x),K(""),$([]),X(!1),console.log("Next question, index:",x),B.current=r||Date.now(),oe.current=g,ie(B.current,g);try{pe()}catch(m){console.warn("Failed to play switch sound",m)}},u=({validationRequired:s})=>{clearInterval(D.current),s?(j("validation"),V(0),Q(0)):j("results");try{$e()}catch(x){console.warn("Failed to play finish sound",x)}},h=({finalScores:s})=>{j("results"),le(s)},l=({reason:s})=>{P(s||"Party was closed by the host."),k(!1),setTimeout(()=>v("/games"),3e3)},_=()=>{j("waiting"),le(null),V(0),Q(0)},A=s=>{console.log("Rematch votes:",s.votesReceived,"/",s.totalPlayers)},q=({partyCode:s})=>{var r,m;const x=H.current,g=(m=(r=x==null?void 0:x.players)==null?void 0:r[0])==null?void 0:m.id;g&&g===n.id&&n.emit("start_game",{partyCode:s,isRematch:!0})};n.on("party_state",o),n.on("kicked",s=>{P((s==null?void 0:s.reason)||"You were removed from the party."),setTimeout(()=>v("/games"),1500)}),n.on("party_not_found",i),n.on("game_started",d),n.on("next_question",p),n.on("game_over",u),n.on("final_game_over",h),n.on("party_closed",l),n.on("rematch_starting",_),n.on("rematch_vote_received",A),n.on("trigger_rematch",q),n.on("validation_advanced",({questionIndex:s,playerIndex:x})=>{V(s),Q(x)}),n.on("host_disconnected",({timeoutMs:s,hostDisconnectedAt:x})=>{const g=Math.floor((Date.now()-(x||Date.now()))/1e3),r=Math.max(0,Math.round((s||15e3)/1e3)-g);Y(r)}),n.on("host_promoted",({newHostId:s,newHostName:x})=>{console.log("Host promoted to",x),P(`Host promoted to ${x}`),setTimeout(()=>P(null),3e3)}),n.emit("get_party_state",f);const L=setTimeout(()=>{F.current=!1},60);return()=>{if(!F.current)try{n.emit("leave_party",{partyCode:f})}catch(s){console.warn("leave_party emit failed",s)}clearTimeout(L),n.off("party_state",o),n.off("party_not_found",i),n.off("kicked"),n.off("game_started",d),n.off("next_question",p),n.off("game_over",u),n.off("final_game_over",h),n.off("party_closed",l),n.off("rematch_starting",_),n.off("rematch_vote_received",A),n.off("trigger_rematch",q),n.off("host_disconnected"),n.off("host_promoted"),n.off("validation_advanced"),clearInterval(D.current)}},[f,v]),c.useEffect(()=>{var d;if(!((d=t==null?void 0:t.game)!=null&&d.hostDisconnected)||!t.game.hostDisconnectedAt){Y(null);return}const o=()=>{const p=Math.floor((Date.now()-t.game.hostDisconnectedAt)/1e3),u=Math.max(0,15-p);Y(u)};o();const i=setInterval(o,1e3);return()=>clearInterval(i)},[(me=t==null?void 0:t.game)==null?void 0:me.hostDisconnectedAt]),c.useEffect(()=>{function o(){try{const i=re.current;if(i){const d=i.offsetWidth||0;be(Math.round(d/2)+8)}}catch{}}return o(),window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[t==null?void 0:t.code]);const Ne=async()=>{var i;if(!(!t||!(((i=t.players[0])==null?void 0:i.id)===n.id)))try{n.emit("reset_party_code",{partyCode:t.code},d=>{d&&d.ok?console.log("Party code reset to",d.newCode):console.warn("Could not reset party code",d)})}catch(d){console.error("reset emit failed",d)}},ie=(o,i)=>{clearInterval(D.current);const d=()=>{const p=Date.now()-(o||Date.now()),u=Math.max(0,i*1e3-p),h=Math.max(0,Math.ceil(u/1e3));if(ve(h),u<=0){try{C(!0)}catch(l){console.warn("Auto-submit failed",l)}clearInterval(D.current)}if(h>0&&h<=5)try{Ve()}catch{}};d(),D.current=setInterval(d,1e3)},C=(o=!1)=>{if(!w)return;let i=J;if((w.type==="multiple-choice"||w.type==="multiple-answer")&&(i=G),!o&&(w.type==="text"&&!J.trim()||(w.type==="multiple-choice"||w.type==="multiple-answer")&&G.length),we){console.log("Already submitted for question",M,"skipping");return}console.log("Submitting answer for question",M,":",i),n.emit("submit_answer",{partyCode:f,questionIndex:M,answer:i}),X(!0)},ce=o=>{if(!t||!t.game||!t.game.questions||!t.players)return;const i=t.players[N];i&&n.emit("submit_validation",{partyCode:f,validatedPlayerId:i.id,validatedQuestionIndex:b,isCorrect:o},d=>{console.log("Validation submitted and ack received:",d)})},ke=()=>{var l;if(!t||!t.game||!t.players||!t.game.questions)return;const o=t.players.length,i=t.game.questions.length,d=t.players[N];if(!d){console.warn("Current player not found at index",N);return}const p=(l=t.game.playerAnswers)==null?void 0:l.find(_=>_.playerId===d.id&&_.questionIndex===b);if(!p){alert(a.pleaseValidateBefore);return}if(!p.validated){alert(a.pleaseValidateBefore);return}let u=b,h=N;if(N<o-1)h=N+1;else if(b<i-1)u=b+1,h=0;else{console.log("All validation complete");return}n.emit("advance_validation",{partyCode:f,questionIndex:u,playerIndex:h}),V(u),Q(h)};if(y)return e.jsx(ee,{});if(te)return e.jsxs("div",{className:"text-white min-h-screen bg-gray-900 p-8 flex flex-col items-center justify-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-red-500 mb-4",children:"Error"}),e.jsxs("p",{className:"text-xl",children:[te," Redirecting you to the lobby..."]})]});if(!t)return null;const de=n.id,Z=((xe=t.players[0])==null?void 0:xe.id)===de,_e=()=>{var o;switch(S){case"waiting":return e.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:a.waitingRoom}),e.jsx("p",{className:"text-gray-400 mb-8",children:a.gameWillBeginShortly}),Z?e.jsx("button",{onClick:Ce,className:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-8 rounded-lg text-xl transition-transform hover:scale-105",children:a.startGame}):e.jsx("p",{className:"text-cyan-400",children:a.waitingForHost})]});case"playing":if(!w)return e.jsx(ee,{});const{question:i,options:d,type:p}=w;return e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("p",{className:"text-gray-400 text-lg mb-2",children:["Question ",M+1," / ",t.game.questions.length]}),e.jsx("h2",{className:"text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-300 to-cyan-300 mb-4",children:i}),e.jsxs("div",{className:`text-5xl font-extrabold ${ae<=5?"text-red-500 animate-pulse":"text-green-400"}`,children:[ae,"s"]})]}),e.jsxs("div",{className:"flex-grow flex flex-col justify-center items-center",children:[p==="text"&&e.jsx("input",{type:"text",value:J,onChange:r=>K(r.target.value),onBlur:()=>C(!1),onKeyDown:r=>{r.key==="Enter"&&C(!1)},placeholder:"Type your answer here...",className:"w-full max-w-md bg-gray-800 text-white border border-gray-700 rounded-lg py-3 px-4 text-lg focus:outline-none focus:ring-2 focus:ring-purple-500"}),p==="multiple-choice"&&e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 w-full max-w-md",children:d.map((r,m)=>e.jsxs("label",{className:"flex items-center bg-gray-800 hover:bg-gray-700 rounded-lg p-4 cursor-pointer transition-colors",children:[e.jsx("input",{type:"radio",name:"answer",value:r,checked:G[0]===r,onChange:()=>{$([r]),setTimeout(()=>C(!1),0)},className:"form-radio h-5 w-5 text-purple-600 bg-gray-700 border-gray-600 focus:ring-purple-500"}),e.jsx("span",{className:"ml-3 text-lg",children:r})]},m))}),p==="multiple-answer"&&e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 w-full max-w-md",children:d.map((r,m)=>e.jsxs("label",{className:"flex items-center bg-gray-800 hover:bg-gray-700 rounded-lg p-4 cursor-pointer transition-colors",children:[e.jsx("input",{type:"checkbox",checked:G.includes(r),onChange:z=>{z.target.checked?$(I=>{const R=[...I,r];return setTimeout(()=>C(!1),0),R}):$(I=>{const R=I.filter(W=>W!==r);return setTimeout(()=>C(!1),0),R})},className:"form-checkbox h-5 w-5 text-purple-600 bg-gray-700 border-gray-600 focus:ring-purple-500"}),e.jsx("span",{className:"ml-3 text-lg",children:r})]},m))})]})]});case"validation":if(!t.game.questions||!t.players||!t.game.playerAnswers)return e.jsx(ee,{});const u=t.game.questions[b],h=t.players[N];if(!h)return e.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4 text-red-500",children:a.validationError}),e.jsx("p",{className:"text-gray-400",children:a.noAnswersToValidate})]});const l=t.game.playerAnswers.find(r=>r.playerId===h.id&&r.questionIndex===b);return!u||!l?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4 text-red-500",children:a.validationError}),e.jsx("p",{className:"text-gray-400",children:a.noAnswersToValidate})]}):Z?e.jsxs("div",{className:"flex flex-col h-full items-center",children:[e.jsx("h2",{className:"text-3xl font-bold text-purple-400 mb-4",children:a.validateAnswers}),e.jsxs("p",{className:"text-gray-400 text-lg mb-2",children:[a.question," ",b+1," / ",t.game.questions.length]}),e.jsx("h3",{className:"text-2xl font-semibold mb-6",children:u.question}),e.jsxs("div",{className:"bg-green-900/20 border border-green-600/50 p-4 rounded-lg w-full max-w-xl mb-6",children:[e.jsxs("p",{className:"text-sm text-green-400 mb-2",children:[a.correctAnswer,":"]}),e.jsx("div",{className:"text-green-300 text-lg font-bold",children:Array.isArray(u.answer)?e.jsx("div",{className:"space-y-1",children:u.answer.map((r,m)=>e.jsxs("div",{children:["â€¢ ",r]},m))}):e.jsx("div",{children:u.answer})})]}),e.jsxs("div",{className:"bg-gray-800/50 p-6 rounded-lg w-full max-w-xl text-center mb-6",children:[e.jsxs("p",{className:"text-xl font-bold mb-3",children:[h.name,"'s ",a.answer,":"]}),e.jsx("div",{className:"text-cyan-300 text-lg mb-6",children:Array.isArray(l.answer)?l.answer.length>0?e.jsx("div",{className:"space-y-1",children:l.answer.map((r,m)=>e.jsxs("div",{children:["â€¢ ",r]},m))}):e.jsx("div",{children:a.noAnswer}):e.jsx("div",{children:l.answer||a.noAnswer})}),e.jsxs("div",{className:"flex justify-center gap-4",children:[e.jsx("button",{onClick:()=>ce(!0),className:`bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-6 rounded-lg text-lg transition-transform hover:scale-105 ${l.validated&&l.isCorrect?"ring-2 ring-green-400":""}`,children:a.correct}),e.jsx("button",{onClick:()=>ce(!1),className:`bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-6 rounded-lg text-lg transition-transform hover:scale-105 ${l.validated&&!l.isCorrect?"ring-2 ring-red-400":""}`,children:a.incorrect})]})]}),e.jsx("div",{className:"mt-8",children:e.jsx("button",{onClick:ke,disabled:!l.validated,className:`font-bold py-3 px-8 rounded-lg text-xl transition-transform ${l.validated?"bg-purple-600 hover:bg-purple-700 hover:scale-105 cursor-pointer":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:b===t.game.questions.length-1&&N===t.players.length-1?a.finishValidation:a.next})})]}):e.jsxs("div",{className:"flex flex-col h-full items-center",children:[e.jsx("h2",{className:"text-3xl font-bold text-purple-400 mb-4",children:a.validation}),e.jsxs("p",{className:"text-gray-400 text-lg mb-2",children:[a.question," ",b+1," / ",t.game.questions.length]}),e.jsx("h3",{className:"text-2xl font-semibold mb-6",children:u.question}),e.jsxs("div",{className:"bg-green-900/20 border border-green-600/50 p-4 rounded-lg w-full max-w-xl mb-6",children:[e.jsxs("p",{className:"text-sm text-green-400 mb-2",children:[a.correctAnswer,":"]}),e.jsx("div",{className:"text-green-300 text-lg font-bold",children:Array.isArray(u.answer)?e.jsx("div",{className:"space-y-1",children:u.answer.map((r,m)=>e.jsxs("div",{children:["â€¢ ",r]},m))}):e.jsx("div",{children:u.answer})})]}),e.jsxs("div",{className:"bg-gray-800/50 p-6 rounded-lg w-full max-w-xl text-center",children:[e.jsxs("p",{className:"text-xl font-bold mb-3",children:[h.name,"'s ",a.answer,":"]}),e.jsx("div",{className:`text-lg mb-6 ${l.validated?l.isCorrect?"text-green-300":"text-red-300":"text-cyan-300"}`,children:Array.isArray(l.answer)?l.answer.length>0?e.jsx("div",{className:"space-y-1",children:l.answer.map((r,m)=>e.jsxs("div",{children:["â€¢ ",r]},m))}):e.jsx("div",{children:a.noAnswer}):e.jsx("div",{children:l.answer||a.noAnswer})}),e.jsxs("div",{className:"flex justify-center gap-4",children:[e.jsx("div",{className:`py-3 px-6 rounded-lg text-lg ${l.validated&&l.isCorrect?"bg-green-600 ring-2 ring-green-400 text-white":"bg-gray-700 text-white/80"}`,children:a.correct}),e.jsx("div",{className:`py-3 px-6 rounded-lg text-lg ${l.validated&&!l.isCorrect?"bg-red-600 ring-2 ring-red-400 text-white":"bg-gray-700 text-white/80"}`,children:a.incorrect})]})]})]});case"results":const _=(je||t.players.map(r=>({name:r.name,score:r.score}))).sort((r,m)=>m.score-r.score),[A,q,L,...s]=_,x=((o=t.game)==null?void 0:o.rematchVotes)||[],g=x.includes(n.id);return e.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[e.jsx("h2",{className:"text-4xl font-bold mb-8 text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-cyan-400",children:a.gameOver}),e.jsx("div",{className:"w-full max-w-2xl mb-12",children:e.jsxs("div",{className:"flex items-end justify-center gap-4 mb-8",children:[q&&e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsxs("div",{className:"bg-gradient-to-br from-gray-400 to-gray-600 rounded-t-lg p-4 w-24 text-center mb-2",children:[e.jsx("p",{className:"text-2xl",children:"ðŸ¥ˆ"}),e.jsx("p",{className:"text-sm font-bold",children:q.name}),e.jsxs("p",{className:"text-lg font-bold text-white",children:[q.score," pts"]})]}),e.jsx("div",{className:"bg-gray-700 h-20 w-24 flex items-center justify-center font-bold text-2xl",children:"2"})]}),A&&e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsxs("div",{className:"bg-gradient-to-br from-yellow-400 to-yellow-600 rounded-t-lg p-4 w-24 text-center mb-2 ring-2 ring-yellow-400",children:[e.jsx("p",{className:"text-2xl",children:"ðŸ¥‡"}),e.jsx("p",{className:"text-sm font-bold text-black",children:A.name}),e.jsxs("p",{className:"text-lg font-bold text-black",children:[A.score," pts"]})]}),e.jsx("div",{className:"bg-gray-700 h-24 w-24 flex items-center justify-center font-bold text-3xl",children:"1"})]}),L&&e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsxs("div",{className:"bg-gradient-to-br from-orange-400 to-orange-600 rounded-t-lg p-4 w-24 text-center mb-2",children:[e.jsx("p",{className:"text-2xl",children:"ðŸ¥‰"}),e.jsx("p",{className:"text-sm font-bold",children:L.name}),e.jsxs("p",{className:"text-lg font-bold text-white",children:[L.score," pts"]})]}),e.jsx("div",{className:"bg-gray-700 h-16 w-24 flex items-center justify-center font-bold text-xl",children:"3"})]})]})}),s.length>0&&e.jsxs("div",{className:"w-full max-w-md mb-8",children:[e.jsx("p",{className:"text-gray-400 text-sm mb-3 text-center",children:a.otherPlayers}),e.jsx("ul",{className:"space-y-2",children:s.map((r,m)=>e.jsxs("li",{className:"flex justify-between items-center bg-gray-900/50 p-2 rounded-lg",children:[e.jsx("span",{className:"font-semibold text-sm",children:r.name}),e.jsxs("span",{className:"font-mono text-cyan-400 text-sm",children:[r.score," pts"]})]},m))})]}),e.jsxs("div",{className:"flex gap-4 mt-8",children:[e.jsx("button",{onClick:()=>n.emit("submit_rematch_vote",{partyCode:f}),disabled:g,className:`font-bold py-3 px-8 rounded-lg text-lg transition-colors ${g?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700 text-white"}`,children:g?`${a.rematch} (${x.length}/${t.players.length})`:a.playAgain}),e.jsx("button",{onClick:()=>v("/games"),className:"bg-gray-600 hover:bg-gray-700 text-white font-bold py-3 px-8 rounded-lg text-lg transition-colors",children:a.backToLobby})]})]});default:return null}},Ce=()=>{n.emit("start_game",{partyCode:f})},Ae=async()=>{try{await navigator.clipboard.writeText(f||(t==null?void 0:t.code)||""),O(!0),setTimeout(()=>O(!1),2e3)}catch(o){console.error("Copy failed",o)}},qe=async()=>{try{const o=`${window.location.origin}/games/${(t==null?void 0:t.code)||f}`;await navigator.clipboard.writeText(o),O(!0),setTimeout(()=>O(!1),2e3)}catch(o){console.error("Copy link failed",o)}},Ie=async()=>{const o=`${window.location.origin}/games/${(t==null?void 0:t.code)||f}`;if(navigator.share)try{await navigator.share({title:"Join my game",url:o})}catch(i){console.warn("Share failed",i)}else await qe()};return e.jsxs("div",{className:"relative w-full overflow-x-hidden bg-[#0a0a0f] text-white min-h-screen p-4 sm:p-8",children:[e.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[e.jsx("div",{className:"bg-shape-top-left absolute top-0 left-0 w-1/2 h-1/2 bg-purple-900/20 blur-[150px]"}),e.jsx("div",{className:"bg-shape-bottom-right absolute bottom-0 right-0 w-1/2 h-1/2 bg-cyan-900/20 blur-[150px]"})]}),e.jsxs("header",{className:"relative z-10 text-center mb-8",children:[e.jsx("p",{className:"text-gray-400 mb-2",children:a.partyCode}),e.jsxs("div",{className:"relative w-full",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{ref:re,onClick:Ae,"aria-label":a.copy,className:"text-4xl font-bold font-mono tracking-widest bg-gray-800/50 hover:bg-gray-700/50 px-4 py-2 rounded-lg border border-gray-700 transition-colors cursor-pointer",children:t.code})}),e.jsxs("div",{className:"absolute top-1/2 flex items-center gap-2",style:{left:`calc(50% + ${ye}px)`,transform:"translateY(-50%)"},children:[((ge=(ue=t.players)==null?void 0:ue[0])==null?void 0:ge.id)===n.id&&e.jsx("button",{onClick:()=>{Ne()},"aria-label":a.resetPartyCode,className:"w-8 h-8 flex items-center justify-center p-1 rounded-full bg-transparent hover:bg-white/10 text-white border border-white/10",children:e.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,children:e.jsx("path",{d:"M12 6V3L8 7l4 4V8a4 4 0 1 1-4 4H6a6 6 0 1 0 6-6z",fill:"currentColor"})})}),e.jsx("button",{onClick:Ie,"aria-label":"Share link",className:"w-8 h-8 flex items-center justify-center p-1 rounded-full bg-transparent hover:bg-white/10 text-white border border-white/10",children:"ðŸ”—"})]})]})]}),((he=t==null?void 0:t.game)==null?void 0:he.hostDisconnected)&&e.jsx("div",{className:"max-w-6xl mx-auto mb-4",children:e.jsxs("div",{className:"bg-yellow-900/20 border border-yellow-600/40 text-yellow-200 p-3 rounded-md text-center",children:[e.jsx("strong",{children:a.hostDisconnected||"Host disconnected"}),e.jsx("div",{className:"text-sm mt-1",children:se!==null?`${a.waitingForHost||"Waiting for host"} â€” ${se}s`:a.waitingForHost||"Waiting for host"})]})}),e.jsxs("main",{className:"relative z-10 max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700 rounded-lg p-8 min-h-[400px] flex flex-col justify-between",children:_e()})}),e.jsx("aside",{children:e.jsx(Qe,{players:t.players,hostId:(fe=t.players[0])==null?void 0:fe.id,selfId:de,gamePhase:S,partyCode:f,isHost:Z,t:a})})]})]})}export{Me as default};
