import{j as l}from"./framer-BXmOpf2o.js";import"./vendor-pxwLTIeQ.js";import{w as f}from"./ui-BZyUlA5G.js";function w(n){const e=[];let t=0;const s=/(\*\*[^\*]+\*\*|\*[^\*]+\*|`[^`]+`|__[^_]+__|\[\^(\d+)\])/g;let r;for(;(r=s.exec(n))!==null;){r.index>t&&e.push({type:"text",content:n.slice(t,r.index)});const i=r[0];i.startsWith("**")&&i.endsWith("**")?e.push({type:"bold",content:i.slice(2,-2)}):i.startsWith("__")&&i.endsWith("__")?e.push({type:"underline",content:i.slice(2,-2)}):i.startsWith("*")&&i.endsWith("*")?e.push({type:"italic",content:i.slice(1,-1)}):i.startsWith("`")&&i.endsWith("`")?e.push({type:"code",content:i.slice(1,-1)}):i.startsWith("[^")&&i.endsWith("]")&&e.push({type:"footnote_ref",content:r[2]}),t=r.index+r[0].length}return t<n.length&&e.push({type:"text",content:n.slice(t)}),e}function k(n){return n.map((e,t)=>e.type==="text"?e.content:e.type==="bold"?l.jsx("strong",{className:"font-bold text-white",children:e.content},t):e.type==="italic"?l.jsx("em",{className:"italic text-gray-200",children:e.content},t):e.type==="code"?l.jsx("code",{className:"bg-slate-800 text-amber-300 px-2 py-1 rounded font-mono text-sm",children:e.content},t):e.type==="underline"?l.jsx("u",{className:"underline text-white",children:e.content},t):e.type==="footnote_ref"?l.jsxs("sup",{className:"text-purple-400 font-bold cursor-help ml-0.5 group relative","data-footnote-id":e.content,children:["[",e.content,"]"]},t):null)}function j(n){const e=[];let t=0;const s=/\[(IMG|VIDEO|LINK|AUDIO):([^\]]+)\]/g;let r;for(;(r=s.exec(n))!==null;){r.index>t&&e.push({type:"text",content:n.slice(t,r.index)});const[,i,o]=r;e.push({type:"embed",embedType:i,embedData:o}),t=r.index+r[0].length}return t<n.length&&e.push({type:"text",content:n.slice(t)}),e}function N({embedType:n,embedData:e}){if(n==="IMG")return l.jsx("div",{className:"my-6 rounded-lg overflow-hidden border border-white/10",children:l.jsx("img",{src:e,alt:"Embed",className:"w-full h-auto"})});if(n==="VIDEO")return l.jsx("div",{className:"my-6 rounded-lg overflow-hidden border border-white/10",children:l.jsx("iframe",{src:e,className:"w-full h-auto aspect-video",allowFullScreen:!0,title:"Video embed"})});if(n==="AUDIO")return l.jsx("div",{className:"my-6",children:l.jsxs("audio",{controls:!0,className:"w-full",style:{filter:"brightness(0.8)"},children:[l.jsx("source",{src:e}),"Votre navigateur ne supporte pas l'audio."]})});if(n==="LINK"){const[t,s]=e.split("|");return l.jsxs("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 my-3 px-3 py-1 rounded-lg bg-blue-500/20 text-blue-300 border border-blue-500/50 hover:bg-blue-500/30 transition-all text-sm",children:[t,l.jsx(f,{className:"w-3 h-3"})]})}return null}class u extends Map{constructor(e,t=p){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(const[s,r]of e)this.set(s,r)}get(e){return super.get(c(this,e))}has(e){return super.has(c(this,e))}set(e,t){return super.set(d(this,e),t)}delete(e){return super.delete(h(this,e))}}function c({_intern:n,_key:e},t){const s=e(t);return n.has(s)?n.get(s):t}function d({_intern:n,_key:e},t){const s=e(t);return n.has(s)?n.get(s):(n.set(s,t),t)}function h({_intern:n,_key:e},t){const s=e(t);return n.has(s)&&(t=n.get(s),n.delete(s)),t}function p(n){return n!==null&&typeof n=="object"?n.valueOf():n}function I(n,e){let t;if(e===void 0)for(const s of n)s!=null&&(t<s||t===void 0&&s>=s)&&(t=s);else{let s=-1;for(let r of n)(r=e(r,++s,n))!=null&&(t<r||t===void 0&&r>=r)&&(t=r)}return t}function _(n,e){let t;if(e===void 0)for(const s of n)s!=null&&(t>s||t===void 0&&s>=s)&&(t=s);else{let s=-1;for(let r of n)(r=e(r,++s,n))!=null&&(t>r||t===void 0&&r>=r)&&(t=r)}return t}function m(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}function W(n,e){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const a=Symbol("implicit");function g(){var n=new u,e=[],t=[],s=a;function r(i){let o=n.get(i);if(o===void 0){if(s!==a)return s;n.set(i,o=e.push(i)-1)}return t[o%t.length]}return r.domain=function(i){if(!arguments.length)return e.slice();e=[],n=new u;for(const o of i)n.has(o)||n.set(o,e.push(o)-1);return r},r.range=function(i){return arguments.length?(t=Array.from(i),r):t.slice()},r.unknown=function(i){return arguments.length?(s=i,r):s},r.copy=function(){return g(e,t).unknown(s)},m.apply(r,arguments),r}export{N as E,w as a,I as b,W as c,a as d,m as i,_ as m,g as o,j as p,k as r};
