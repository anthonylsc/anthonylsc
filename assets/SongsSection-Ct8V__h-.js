import{u as b,j as e,m as r}from"./framer-BXmOpf2o.js";import{c as x,r as y}from"./vendor-pxwLTIeQ.js";import{A as j}from"./index-CnFNaqp5.js";import{s as g}from"./Home-C9Geq-1a.js";import{m as d,a4 as w,a5 as v}from"./ui-BZyUlA5G.js";import"./useSEO-BW7zZpJk.js";import"./MusicPlayer2-Ddd-zUnc.js";function D({onPlaySong:o,currentSong:s,isPlaying:c}){const[m,h]=x.useState(g);x.useEffect(()=>{(async()=>{try{const a=await fetch(`${j}/api/musics`);if(a.ok){const f=(await a.json()).map(n=>({...n,file:n.file_path,desc:n.description}));h(f)}}catch{console.warn("Using local songs fallback")}})()},[]);const p=y.useRef(null),l=b(p,{once:!0,margin:"-100px"}),u="/";return e.jsxs("section",{ref:p,className:"relative py-24 px-6",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-500/10 via-cyan-500/6 to-pink-500/8 blur-3xl pointer-events-none"}),e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsxs(r.h2,{initial:{opacity:0,y:20},animate:l?{opacity:1,y:0}:{},transition:{duration:.6},className:"text-3xl md:text-4xl font-semibold text-gray-100 mb-2 text-center flex items-center justify-center gap-3",children:[e.jsx(d,{className:"w-8 h-8 text-purple-400"}),"Créations Musicales"]}),e.jsx(r.p,{initial:{opacity:0},animate:l?{opacity:1}:{},transition:{duration:.6,delay:.1},className:"text-center text-gray-400 mb-12",children:"Découvre mes créations audio"}),e.jsx(r.div,{initial:{opacity:0},animate:l?{opacity:1}:{},transition:{duration:.8,delay:.1},className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:m.length===0?e.jsxs("div",{className:"col-span-full text-center py-16 text-gray-400",children:[e.jsx(d,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"Aucune chanson pour le moment."}),e.jsxs("p",{className:"text-sm mt-2",children:["Ajoute des entrées dans ",e.jsx("code",{className:"bg-white/5 px-2 py-1 rounded",children:"src/utils/mysongs.js"})]})]}):m.map((t,a)=>{const i=`${u}mysongs/${t.file}`;return e.jsxs(r.div,{initial:{opacity:0,y:20,scale:.95},animate:l?{opacity:1,y:0,scale:1}:{},transition:{duration:.5,delay:.08*a,type:"spring",stiffness:100},whileHover:{y:-4,scale:1.02},className:"group relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/20 to-cyan-500/10 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300 blur-xl"}),e.jsxs("div",{className:"relative p-6 rounded-2xl bg-gradient-to-br from-white/8 to-white/[0.02] border border-white/15 backdrop-blur-xl hover:border-purple-500/50 transition-all duration-300 shadow-lg group-hover:shadow-xl group-hover:shadow-purple-500/20 h-full flex flex-col",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 mb-2",children:[e.jsx(d,{className:"w-4 h-4 text-purple-400"}),e.jsx("span",{className:"text-xs uppercase tracking-wider text-purple-400 font-semibold",children:"Création"})]}),e.jsx("h3",{className:"text-lg font-semibold text-gray-100 leading-tight truncate group-hover:text-purple-300 transition-colors",children:t.title})]})}),e.jsx("div",{className:"mb-4 pb-4 border-b border-white/10",children:e.jsxs("p",{className:"text-sm text-gray-400",children:["Par ",e.jsx("span",{className:"text-gray-300 font-medium",children:t.creator})]})}),t.desc&&e.jsx("p",{className:"text-sm text-gray-400 mb-4 flex-grow",children:t.desc}),e.jsxs(r.button,{onClick:()=>{o==null||o(i,t.title)},whileHover:{scale:1.05},whileTap:{scale:.95},className:`w-full py-3 px-4 rounded-lg font-medium flex items-center justify-center gap-2 transition-all shadow-md hover:shadow-lg ${(s==null?void 0:s.src)===i&&c?"bg-purple-600/30 text-purple-200 border border-purple-500/50 shadow-lg shadow-purple-500/20":"bg-white/5 text-gray-400 border border-white/10 hover:bg-white/10 hover:text-gray-300"}`,"aria-label":`Play ${t.title}`,children:[(s==null?void 0:s.src)===i&&c?e.jsx(w,{className:"w-4 h-4 fill-current"}):e.jsx(v,{className:"w-4 h-4 fill-current"}),(s==null?void 0:s.src)===i?c?"Pause":"En cours":"Écouter"]})]})]},a)})})]})]})}export{D as default};
