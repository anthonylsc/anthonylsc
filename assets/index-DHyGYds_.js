const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-xFrfOqku.js","assets/framer-CXIzzW3M.js","assets/vendor-Nm6aTgQn.js","assets/useSEO-BW7zZpJk.js","assets/ui-B4D-P3CJ.js","assets/MusicPlayer2-v7KYimJC.js","assets/Writings-DQWj6kVM.js","assets/Writings-DybBRZeS.css","assets/Games-BylwVLBE.js","assets/useGamesLocale-D2HKrmNS.js","assets/GameRoom-BdTb4MoB.js","assets/NotFound-DPS-V1nP.js","assets/AnimatedTitle-Cx48_MPt.js"])))=>i.map(i=>d[i]);
import{j as e,m as u}from"./framer-CXIzzW3M.js";import{a as P,r as o,B as O,u as S,R as C,b as x,c as R}from"./vendor-Nm6aTgQn.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))c(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const n of s.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&c(n)}).observe(document,{childList:!0,subtree:!0});function l(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function c(r){if(r.ep)return;r.ep=!0;const s=l(r);fetch(r.href,s)}})();var E,j=P;E=j.createRoot,j.hydrateRoot;const A="modulepreload",T=function(t){return"/"+t},w={},h=function(a,l,c){let r=Promise.resolve();if(l&&l.length>0){document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),i=(n==null?void 0:n.nonce)||(n==null?void 0:n.getAttribute("nonce"));r=Promise.allSettled(l.map(m=>{if(m=T(m),m in w)return;w[m]=!0;const g=m.endsWith(".css"),b=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${b}`))return;const p=document.createElement("link");if(p.rel=g?"stylesheet":A,g||(p.as="script"),p.crossOrigin="",p.href=m,i&&p.setAttribute("nonce",i),document.head.appendChild(p),g)return new Promise((d,y)=>{p.addEventListener("load",d),p.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${m}`)))})}))}function s(n){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=n,window.dispatchEvent(i),!i.defaultPrevented)throw n}return r.then(n=>{for(const i of n||[])i.status==="rejected"&&s(i.reason);return a().catch(s)})};function k(){o.useEffect(()=>(document.documentElement.style.scrollBehavior="smooth",()=>{document.documentElement.style.scrollBehavior="auto"}),[]);const t={initial:{opacity:0},animate:{opacity:1,transition:{duration:.6,ease:"easeOut"}}},a={animate:{scale:[1,1.3,1],opacity:[.15,.4,.15],transition:{duration:4,repeat:1/0,ease:"easeInOut"}}},l={animate:n=>({rotate:360,transition:{duration:3+n*.5,repeat:1/0,ease:"linear"}})},c={animate:n=>({y:[0,-12,0],opacity:[.4,1,.4],transition:{duration:1,repeat:1/0,delay:n*.12,ease:"easeInOut"}})},r=n=>({initial:{x:0,y:0,opacity:0,scale:0},animate:{x:Math.cos(n*.628)*100,y:Math.sin(n*.628)*100,opacity:[0,.5,0],scale:[0,1,0],transition:{duration:2.5,repeat:1/0,ease:"easeOut"}}}),s={animate:{scale:[1,1.1,1],transition:{duration:2,repeat:1/0,ease:"easeInOut"}}};return e.jsxs(u.div,{variants:t,initial:"initial",animate:"animate",className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-[#0a0a0f] via-[#1a1a3e] to-[#0f0f1f] relative overflow-hidden",children:[e.jsx(u.div,{variants:a,animate:"animate",className:"absolute top-1/4 -left-20 w-96 h-96 bg-gradient-to-r from-purple-600/30 to-violet-600/20 rounded-full blur-3xl"}),e.jsx(u.div,{variants:a,animate:"animate",transition:{duration:4,repeat:1/0,ease:"easeInOut",delay:1},className:"absolute bottom-1/4 -right-32 w-96 h-96 bg-gradient-to-l from-cyan-500/20 to-blue-600/15 rounded-full blur-3xl"}),e.jsx(u.div,{variants:a,animate:"animate",transition:{duration:4,repeat:1/0,ease:"easeInOut",delay:2},className:"absolute top-1/2 left-1/3 w-72 h-72 bg-gradient-to-br from-pink-500/15 to-rose-600/10 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:[...Array(8)].map((n,i)=>e.jsx(u.div,{variants:r(i),initial:"initial",animate:"animate",className:"absolute w-2 h-2 rounded-full bg-gradient-to-r from-purple-400 to-cyan-400"},i))}),e.jsxs("div",{className:"relative z-10 text-center flex flex-col items-center gap-8",children:[e.jsx(u.div,{variants:l,animate:"animate",custom:0,className:"absolute w-40 h-40 rounded-full border-2 border-transparent border-t-purple-400 border-r-cyan-400 opacity-40"}),e.jsx(u.div,{variants:l,animate:"animate",custom:1,className:"absolute w-32 h-32 rounded-full border-2 border-transparent border-b-purple-500 border-l-cyan-500 opacity-60"}),e.jsx(u.div,{variants:s,animate:"animate",className:"relative w-24 h-24 rounded-full bg-gradient-to-br from-purple-500/30 to-cyan-500/20 flex items-center justify-center border border-purple-400/50",children:e.jsx(u.div,{animate:{rotate:-360},transition:{duration:4,repeat:1/0,ease:"linear"},className:"w-16 h-16 rounded-full border-2 border-transparent border-t-purple-300 border-r-cyan-300"})}),e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.6},className:"flex items-center gap-2 mt-8",children:[e.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-purple-300 via-cyan-300 to-pink-300 bg-clip-text text-transparent",children:"Chargement"}),e.jsx("div",{className:"flex gap-1.5",children:[0,1,2].map(n=>e.jsx(u.div,{variants:c,initial:{y:0},animate:"animate",custom:n,className:"w-2.5 h-2.5 rounded-full bg-gradient-to-b from-purple-400 to-cyan-400"},n))})]}),e.jsx(u.p,{initial:{opacity:0,y:10},animate:{opacity:.5,y:0},transition:{delay:.6,duration:.8},className:"text-sm text-gray-400 font-light tracking-widest",children:"PrÃ©paration de l'univers crÃ©atif"}),e.jsx(u.div,{initial:{opacity:0},animate:{opacity:.8},transition:{delay:.9,duration:.6},className:"w-32 h-1 bg-gradient-to-r from-purple-500/20 via-cyan-500/50 to-purple-500/20 rounded-full mt-4 overflow-hidden",children:e.jsx(u.div,{animate:{x:[-128,128]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},className:"h-full w-1/4 bg-gradient-to-r from-purple-400 to-cyan-400 rounded-full"})})]}),e.jsx(u.div,{initial:{opacity:0},animate:{opacity:.3},transition:{delay:.5,duration:1},className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-full h-32 bg-gradient-to-t from-purple-600/10 via-transparent to-transparent pointer-events-none"})]})}const L=o.createContext(null);function M({children:t}){const[a,l]=o.useState(()=>{try{return localStorage.getItem("site_lang")||"en"}catch{return"en"}});return o.useEffect(()=>{try{localStorage.setItem("site_lang",a)}catch{}},[a]),e.jsx(L.Provider,{value:{lang:a,setLang:l},children:t})}function z(){const t=o.useContext(L);if(!t)throw new Error("useLanguage must be used within LanguageProvider");return t}let f=null;const I="gameSoundsMuted";function N(){if(!f)try{f=new(window.AudioContext||window.webkitAudioContext)}catch{f=null}}function v(){try{return localStorage.getItem(I)==="true"}catch{return!1}}function V(t){try{localStorage.setItem(I,t?"true":"false")}catch{}}function Q(){if(!v())try{const t=new Audio("/sounds/tick.mp3");t.volume=.3,t.play().catch(()=>{})}catch{}}function X(){if(v()||(N(),!f))return;const t=f.createOscillator(),a=f.createGain();t.type="sine",t.frequency.value=880,a.gain.value=.05,t.connect(a),a.connect(f.destination),t.start(),setTimeout(()=>{t.frequency.value=660},80),setTimeout(()=>{t.stop()},180)}function Z(){if(v()||(N(),!f))return;const t=f.createOscillator(),a=f.createGain();t.type="sine",t.frequency.value=440,a.gain.value=.06,t.connect(a),a.connect(f.destination),t.start(),setTimeout(()=>{t.frequency.value=660},160),setTimeout(()=>{t.stop()},380)}function D({className:t}){const{lang:a,setLang:l}=z(),[c,r]=o.useState(!1),s=o.useRef(null),n=[{code:"fr",label:"FranÃ§ais",flag:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 900 600",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("rect",{width:"300",height:"600",fill:"#002395"}),e.jsx("rect",{x:"300",width:"300",height:"600",fill:"white"}),e.jsx("rect",{x:"600",width:"300",height:"600",fill:"#ED2939"})]})},{code:"en",label:"English",flag:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 60 30",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("clipPath",{id:"s",children:e.jsx("path",{d:"M0,0 v30 h60 v-30 z"})}),e.jsx("clipPath",{id:"t",children:e.jsx("path",{d:"M30,15 h30 v15 z v-15 h-30 z h-30 v-15 z v15 h30 z"})}),e.jsx("path",{d:"M0,0 v30 h60 v-30 z",fill:"#012169"}),e.jsx("path",{d:"M0,0 L60,30 M60,0 L0,30",stroke:"#FFF",strokeWidth:"6"}),e.jsx("path",{d:"M0,0 L60,30 M60,0 L0,30",stroke:"#C8102E",strokeWidth:"4",clipPath:"url(#t)"}),e.jsx("path",{d:"M30,0 v30 M0,15 h60",stroke:"#FFF",strokeWidth:"10"}),e.jsx("path",{d:"M30,0 v30 M0,15 h60",stroke:"#C8102E",strokeWidth:"6"})]})}],i=n.find(d=>d.code===a),[m,g]=o.useState(v());o.useEffect(()=>{const d=y=>{s.current&&!s.current.contains(y.target)&&r(!1)};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[]);const b=d=>{l(d),r(!1)},p=()=>{const d=!m;try{V(d)}catch{}g(d)};return e.jsxs("div",{className:`relative ${t}`,ref:s,children:[e.jsxs("button",{onClick:()=>r(!c),"aria-label":"Select language",className:"flex items-center gap-2 bg-gray-800/80 hover:bg-gray-700/80 px-3 py-2 rounded text-white text-sm font-medium border border-gray-600/50 transition-colors",children:[i==null?void 0:i.flag,e.jsx("span",{children:i==null?void 0:i.label})]}),e.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[e.jsx("button",{onClick:p,"aria-label":"Toggle sounds",className:"text-sm px-2 py-1 bg-gray-800/80 hover:bg-gray-700 rounded text-white border border-gray-600/50",children:m?"ðŸ”‡":"ðŸ”Š"}),e.jsx("span",{className:"text-xs text-gray-300",children:m?"Sounds off":"Sounds on"})]}),c&&e.jsx("div",{className:"absolute top-full mt-1 right-0 bg-gray-900 border border-gray-600 rounded shadow-lg z-50 min-w-[160px]",children:n.map(d=>e.jsxs("button",{onClick:()=>b(d.code),className:`w-full flex items-center gap-2 px-3 py-2 text-sm text-left transition-colors ${a===d.code?"bg-purple-600/50 text-white":"hover:bg-gray-800 text-gray-200"}`,children:[d.flag,e.jsx("span",{children:d.label})]},d.code))})]})}const F=o.lazy(()=>h(()=>import("./Home-xFrfOqku.js").then(t=>t.H),__vite__mapDeps([0,1,2,3,4,5]))),_=o.lazy(()=>h(()=>import("./Writings-DQWj6kVM.js").then(t=>t.W),__vite__mapDeps([6,1,2,3,4,7]))),W=o.lazy(()=>h(()=>import("./Games-BylwVLBE.js"),__vite__mapDeps([8,1,2,3,9]))),q=o.lazy(()=>h(()=>import("./GameRoom-BdTb4MoB.js"),__vite__mapDeps([10,1,2,9]))),B=o.lazy(()=>h(()=>import("./NotFound-DPS-V1nP.js"),__vite__mapDeps([11,1,2]))),G=o.lazy(()=>h(()=>import("./AnimatedTitle-Cx48_MPt.js"),__vite__mapDeps([12,2])));function $(t){const[a,l]=o.useState(null);return o.useEffect(()=>{var n;let c=!1;const r=(n=window.requestIdleCallback)==null?void 0:n.call(window,()=>{h(()=>import("./MusicPlayer2-v7KYimJC.js"),__vite__mapDeps([5,1,2])).then(i=>{c||l(()=>i.default)})},{timeout:500}),s=setTimeout(()=>{h(()=>import("./MusicPlayer2-v7KYimJC.js"),__vite__mapDeps([5,1,2])).then(i=>{c||l(()=>i.default)})},600);return()=>{var i;c=!0,r&&typeof r=="number"&&((i=window.cancelIdleCallback)==null||i.call(window,r)),clearTimeout(s)}},[]),a?e.jsx(a,{...t}):null}function U(){const t=S(),a=t.pathname.startsWith("/writings"),l=t.pathname.startsWith("/games"),c=a||l;return e.jsxs(e.Fragment,{children:[e.jsx(G,{}),!c&&e.jsx($,{}),l&&e.jsx("div",{className:"fixed top-4 right-4 z-50",children:e.jsx(D,{})}),e.jsxs(C,{children:[e.jsx(x,{path:"/",element:e.jsx(F,{})}),e.jsx(x,{path:"/writings",element:e.jsx(_,{})}),e.jsx(x,{path:"/writings/:id",element:e.jsx(_,{})}),e.jsx(x,{path:"/games",element:e.jsx(W,{})}),e.jsx(x,{path:"/games/:partyCode",element:e.jsx(q,{})}),e.jsx(x,{path:"*",element:e.jsx(B,{})})]})]})}function H(){const[t,a]=o.useState(!1);return e.jsx(o.Suspense,{fallback:t?null:(a(!0),e.jsx(k,{})),children:e.jsx(M,{children:e.jsx(O,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:e.jsx(U,{})})})})}const K=E(document.getElementById("root"));K.render(e.jsx(R.StrictMode,{children:e.jsx(H,{})}));requestAnimationFrame(()=>{setTimeout(()=>{const t=document.getElementById("splash");t&&(t.style.opacity="0",t.addEventListener("transitionend",()=>{t&&t.parentNode&&t.parentNode.removeChild(t)}))},50)});export{k as L,h as _,Z as a,Q as b,X as p,z as u};
