import{j as e}from"./framer-CXIzzW3M.js";import{r as o,d as k,e as S}from"./vendor-Nm6aTgQn.js";import{u as P}from"./useSEO-BW7zZpJk.js";import{u as w,s as f}from"./useGamesLocale-TWqQitiO.js";import{u as z}from"./index-CRc8MQYr.js";const G=({game:l,onCreate:a,onJoin:m})=>e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700 rounded-lg overflow-hidden shadow-lg hover:shadow-purple-500/20 transition-shadow duration-300",children:[e.jsx("div",{className:"h-48 bg-cover bg-center",style:{backgroundImage:`url(${l.imageUrl||"https://via.placeholder.com/400x200?text=kCulture"})`}}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:l.title}),e.jsx("p",{className:"text-gray-400 mb-4",children:l.description}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:()=>a(l.id),className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300",children:"Create Party"}),e.jsx("button",{onClick:()=>m(l.id),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300",children:"Join Party"})]})]})]}),E=({game:l,onClose:a,onJoin:m})=>{const[n,p]=o.useState(""),[c,y]=o.useState(""),[g,x]=o.useState(""),d=w();o.useEffect(()=>{const i=localStorage.getItem("playerName");i&&y(i)},[]);const h=()=>{if(c&&n){x("");try{localStorage.setItem("playerName",c)}catch{}m({partyCode:n,playerName:c})}else x(d.pleaseEnterPartyCodeAndName)};return e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 animate-modal-fade-in",children:e.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-lg p-8 w-full max-w-md m-4 text-white shadow-xl transform transition-all duration-300 scale-100",children:[e.jsxs("h2",{className:"text-3xl font-bold mb-6",children:[d.join," ",e.jsx("span",{className:"text-purple-400",children:l.title})," Party"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"text",placeholder:d.enterYourName,value:c,onChange:i=>y(i.target.value),className:"w-full bg-gray-800 text-white border border-gray-700 rounded py-3 px-4 focus:outline-none focus:ring-2 focus:ring-purple-500 transition-colors"}),e.jsx("input",{type:"text",placeholder:d.enterPartyCode,value:n,onChange:i=>p(i.target.value.toUpperCase()),className:"w-full bg-gray-800 text-white border border-gray-700 rounded py-3 px-4 focus:outline-none focus:ring-2 focus:ring-purple-500 font-mono transition-colors"}),g&&e.jsx("div",{className:"text-sm text-red-300 bg-red-900/20 p-2 rounded",children:g})]}),e.jsxs("div",{className:"flex gap-4 mt-8",children:[e.jsx("button",{onClick:h,className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-4 rounded-lg transition-colors duration-300",children:d.join}),e.jsx("button",{onClick:a,className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white font-bold py-3 px-4 rounded-lg transition-colors duration-300",children:d.cancel})]})]})})},C=["Geography","History","Science","Pop Culture","Technology","Art"],M=({game:l,onClose:a,onCreate:m})=>{const[n,p]=o.useState(""),[c,y]=o.useState("medium"),[g,x]=o.useState(15),[d,h]=o.useState(10),[i,j]=o.useState(C.reduce((t,u)=>({...t,[u]:!0}),{})),[N,b]=o.useState(""),s=w();o.useEffect(()=>{const t=localStorage.getItem("playerName");t&&p(t)},[]);const v=t=>{j(u=>({...u,[t]:!u[t]}))},r=()=>{const t=Object.keys(i).filter(u=>i[u]);if(!n){b(s.pleaseEnterYourName);return}if(t.length===0){b(s.pleaseSelectAtLeastOneCategory);return}b("");try{localStorage.setItem("playerName",n)}catch{}m({gameId:l.id,playerName:n,difficulty:c,timePerQuestion:g,numQuestions:d,categories:t})};return e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 animate-modal-fade-in",children:e.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-lg p-8 w-full max-w-lg m-4 text-white shadow-xl transform transition-all duration-300 scale-100",children:[e.jsxs("h2",{className:"text-3xl font-bold mb-6",children:[s.create," ",e.jsx("span",{className:"text-purple-400",children:l.title})," Party"]}),e.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto pr-2",children:[e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"text-gray-400",children:s.playerName}),e.jsx("input",{type:"text",placeholder:s.enterYourName,value:n,onChange:t=>p(t.target.value),className:"mt-1 block w-full bg-gray-800 border border-gray-700 rounded py-2 px-3 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-0 transition-colors"})]}),N&&e.jsx("div",{className:"mt-2 text-sm text-red-300 bg-red-900/20 p-2 rounded",children:N}),e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"text-gray-400",children:s.difficulty}),e.jsxs("select",{value:c,onChange:t=>y(t.target.value),className:"mt-1 block w-full bg-gray-800 border-gray-700 rounded py-2 px-3 focus:outline-none focus:ring-2 focus:ring-purple-500 transition-colors",children:[e.jsx("option",{value:"easy",children:s.easy}),e.jsx("option",{value:"medium",children:s.medium}),e.jsx("option",{value:"hard",children:s.hard})]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:s.categories}),e.jsx("div",{className:"mt-2 grid grid-cols-2 sm:grid-cols-3 gap-2",children:C.map(t=>{const u=!!i[t];return e.jsxs("label",{className:"flex items-center space-x-3 bg-gray-800 p-2 rounded-md hover:bg-gray-700 cursor-pointer transition-colors",children:[e.jsx("input",{type:"checkbox",checked:u,onChange:()=>v(t),className:"sr-only","aria-checked":u}),e.jsx("span",{className:`${u?"bg-purple-600 border-transparent":"bg-gray-800 border-gray-600"} inline-flex items-center justify-center w-5 h-5 rounded-md border`,"aria-hidden":!0,children:u&&e.jsx("svg",{width:"14",height:"14",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-white",children:e.jsx("path",{d:"M16 6L8.5 13.5L4 9",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),e.jsx("span",{className:"select-none",children:t})]},t)})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("label",{className:"block",children:[e.jsxs("span",{className:"text-gray-400",children:[s.timePerQuestion," (s)"]}),e.jsx("input",{type:"number",min:"5",max:"60",step:"5",value:g,onChange:t=>x(Number(t.target.value)),className:"mt-1 block w-full bg-gray-800 border-gray-700 rounded py-2 px-3 focus:outline-none focus:ring-2 focus:ring-purple-500 transition-colors"})]}),e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"text-gray-400",children:s.numQuestions}),e.jsx("input",{type:"number",min:"5",max:"50",step:"5",value:d,onChange:t=>h(Number(t.target.value)),className:"mt-1 block w-full bg-gray-800 border-gray-700 rounded py-2 px-3 focus:outline-none focus:ring-2 focus:ring-purple-500 transition-colors"})]})]})]}),e.jsxs("div",{className:"flex gap-4 mt-8",children:[e.jsx("button",{onClick:r,className:"flex-1 bg-purple-600 hover:bg-purple-700 font-bold py-3 px-4 rounded-lg transition-colors",children:s.create}),e.jsx("button",{onClick:a,className:"flex-1 bg-gray-700 hover:bg-gray-600 font-bold py-3 px-4 rounded-lg transition-colors",children:s.cancel})]})]})})},J=[{id:"kculture",translations:{en:{title:"Quiz Culture",description:"Test your general knowledge in this fast-paced quiz game. Compete with friends and see who knows the most!",shortDescription:"Fast-paced quiz game"},fr:{title:"Quiz Culture",description:"Testez vos connaissances générales dans ce jeu de quiz rapide. Concourez avec vos amis et voyez qui en sait le plus!",shortDescription:"Jeu de quiz rapide"}},imageUrl:"/games/kculture-banner.svg",category:"quiz",minPlayers:1,maxPlayers:10,defaultSettings:{difficulty:"medium",timePerQuestion:15,numQuestions:10,categories:["Geography","History","Science","Pop Culture","Technology","Art"]}}],Q={games:J},I=l=>Q.games.map(a=>{var m,n;return{id:a.id,title:((m=a.translations[l])==null?void 0:m.title)||a.translations.en.title,description:((n=a.translations[l])==null?void 0:n.description)||a.translations.en.description,imageUrl:a.imageUrl,category:a.category,minPlayers:a.minPlayers,maxPlayers:a.maxPlayers,defaultSettings:a.defaultSettings}});function O(){const[l,a]=o.useState(!1),[m,n]=o.useState(!1),[p,c]=o.useState(null),y=k(),{partyCode:g}=S(),x=w(),{lang:d}=z(),[h,i]=o.useState([]);o.useEffect(()=>{P({title:"anthony.lsc - Game Center",description:"Play fun multiplayer games like kCulture, a fast-paced quiz game.",url:"https://www.anthonylsc.fr/games"}),i(I(d));const r=t=>{y(`/games/${t.code}`)};if(f.on("party_state",r),f.on("party_not_found",()=>alert(x.joinError)),g){const t=localStorage.getItem("playerName");t?f.emit("join_party",{partyCode:g,playerName:t}):(a(!0),c(h[0]))}return()=>{f.off("party_state",r),f.off("party_not_found")}},[y,g,d]);const j=r=>{c(h.find(t=>t.id===r)),a(!0)},N=r=>{c(h.find(t=>t.id===r)),n(!0)},b=()=>{a(!1),n(!1),c(null)},s=r=>{localStorage.setItem("playerName",r.playerName),f.emit("create_party",r)},v=({partyCode:r,playerName:t})=>{localStorage.setItem("playerName",t),f.emit("join_party",{partyCode:r,playerName:t})};return e.jsxs("div",{className:"relative w-full overflow-x-hidden bg-[#0a0a0f] text-white min-h-screen p-4 sm:p-8",children:[e.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[e.jsx("div",{className:"bg-shape-top-left absolute top-0 left-0 w-1/2 h-1/2 bg-purple-900/20 blur-[150px]"}),e.jsx("div",{className:"bg-shape-bottom-right absolute bottom-0 right-0 w-1/2 h-1/2 bg-cyan-900/20 blur-[150px]"})]}),e.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto animate-fade-in",children:[e.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-center mb-4 text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-cyan-400 animate-fade-in-up",children:x.gameCenter}),e.jsx("p",{className:"text-center text-gray-400 mb-12 animate-fade-in-up animation-delay-100",children:x.chooseGameToPlay}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:h.map(r=>e.jsx(G,{game:r,onCreate:N,onJoin:j},r.id))})]}),l&&p&&e.jsx(E,{game:p,onClose:b,onJoin:v}),m&&p&&e.jsx(M,{game:p,onClose:b,onCreate:s})]})}export{O as default};
