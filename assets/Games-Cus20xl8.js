import{j as e}from"./framer-CXIzzW3M.js";import{r,d as C,e as k}from"./vendor-Nm6aTgQn.js";import{u as S}from"./useSEO-BW7zZpJk.js";import{s as x}from"./socket-KrrjFy0R.js";const P=({game:o,onCreate:d,onJoin:p})=>e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700 rounded-lg overflow-hidden shadow-lg hover:shadow-purple-500/20 transition-shadow duration-300",children:[e.jsx("div",{className:"h-48 bg-cover bg-center",style:{backgroundImage:`url(${o.imageUrl||"https://via.placeholder.com/400x200?text=kCulture"})`}}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:o.title}),e.jsx("p",{className:"text-gray-400 mb-4",children:o.description}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:()=>d(o.id),className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300",children:"Create Party"}),e.jsx("button",{onClick:()=>p(o.id),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300",children:"Join Party"})]})]})]}),E=({game:o,onClose:d,onJoin:p})=>{const[c,u]=r.useState(""),[l,g]=r.useState(""),[m,h]=r.useState("");r.useEffect(()=>{const n=localStorage.getItem("playerName");n&&g(n)},[]);const y=()=>{if(l&&c){h("");try{localStorage.setItem("playerName",l)}catch{}p({partyCode:c,playerName:l})}else h("Please enter a party code and your name.")};return e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 animate-modal-fade-in",children:e.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-lg p-8 w-full max-w-md m-4 text-white shadow-xl transform transition-all duration-300 scale-100",children:[e.jsxs("h2",{className:"text-3xl font-bold mb-6",children:["Join ",e.jsx("span",{className:"text-purple-400",children:o.title})," Party"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"text",placeholder:"Enter your name",value:l,onChange:n=>g(n.target.value),className:"w-full bg-gray-800 text-white border border-gray-700 rounded py-3 px-4 focus:outline-none focus:ring-2 focus:ring-purple-500 transition-colors"}),e.jsx("input",{type:"text",placeholder:"Enter Party Code",value:c,onChange:n=>u(n.target.value.toUpperCase()),className:"w-full bg-gray-800 text-white border border-gray-700 rounded py-3 px-4 focus:outline-none focus:ring-2 focus:ring-purple-500 font-mono transition-colors"}),m&&e.jsx("div",{className:"text-sm text-red-300 bg-red-900/20 p-2 rounded",children:m})]}),e.jsxs("div",{className:"flex gap-4 mt-8",children:[e.jsx("button",{onClick:y,className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-4 rounded-lg transition-colors duration-300",children:"Join"}),e.jsx("button",{onClick:d,className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white font-bold py-3 px-4 rounded-lg transition-colors duration-300",children:"Cancel"})]})]})})},j=["Geography","History","Science","Pop Culture","Technology","Art"],M=({game:o,onClose:d,onCreate:p})=>{const[c,u]=r.useState(""),[l,g]=r.useState("medium"),[m,h]=r.useState(15),[y,n]=r.useState(10),[f,N]=r.useState(j.reduce((t,i)=>({...t,[i]:!0}),{})),[a,s]=r.useState("");r.useEffect(()=>{const t=localStorage.getItem("playerName");t&&u(t)},[]);const v=t=>{N(i=>({...i,[t]:!i[t]}))},w=()=>{const t=Object.keys(f).filter(i=>f[i]);if(!c){s("Please enter your name.");return}if(t.length===0){s("Please select at least one question category.");return}s("");try{localStorage.setItem("playerName",c)}catch{}p({gameId:o.id,playerName:c,difficulty:l,timePerQuestion:m,numQuestions:y,categories:t})};return e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 animate-modal-fade-in",children:e.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-lg p-8 w-full max-w-lg m-4 text-white shadow-xl transform transition-all duration-300 scale-100",children:[e.jsxs("h2",{className:"text-3xl font-bold mb-6",children:["Create ",e.jsx("span",{className:"text-purple-400",children:o.title})," Party"]}),e.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto pr-2",children:[e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"text-gray-400",children:"Your Name"}),e.jsx("input",{type:"text",placeholder:"Enter your name",value:c,onChange:t=>u(t.target.value),className:"mt-1 block w-full bg-gray-800 border border-gray-700 rounded py-2 px-3 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-0 transition-colors"})]}),a&&e.jsx("div",{className:"mt-2 text-sm text-red-300 bg-red-900/20 p-2 rounded",children:a}),e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"text-gray-400",children:"Difficulty"}),e.jsxs("select",{value:l,onChange:t=>g(t.target.value),className:"mt-1 block w-full bg-gray-800 border-gray-700 rounded py-2 px-3 focus:outline-none focus:ring-2 focus:ring-purple-500 transition-colors",children:[e.jsx("option",{value:"easy",children:"Easy"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"hard",children:"Hard"})]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Question Categories"}),e.jsx("div",{className:"mt-2 grid grid-cols-2 sm:grid-cols-3 gap-2",children:j.map(t=>{const i=!!f[t];return e.jsxs("label",{className:"flex items-center space-x-3 bg-gray-800 p-2 rounded-md hover:bg-gray-700 cursor-pointer transition-colors",children:[e.jsx("input",{type:"checkbox",checked:i,onChange:()=>v(t),className:"sr-only","aria-checked":i}),e.jsx("span",{className:`${i?"bg-purple-600 border-transparent":"bg-gray-800 border-gray-600"} inline-flex items-center justify-center w-5 h-5 rounded-md border`,"aria-hidden":!0,children:i&&e.jsx("svg",{width:"14",height:"14",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-white",children:e.jsx("path",{d:"M16 6L8.5 13.5L4 9",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),e.jsx("span",{className:"select-none",children:t})]},t)})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"text-gray-400",children:"Time per Question (s)"}),e.jsx("input",{type:"number",min:"5",max:"60",step:"5",value:m,onChange:t=>h(Number(t.target.value)),className:"mt-1 block w-full bg-gray-800 border-gray-700 rounded py-2 px-3 focus:outline-none focus:ring-2 focus:ring-purple-500 transition-colors"})]}),e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"text-gray-400",children:"Number of Questions"}),e.jsx("input",{type:"number",min:"5",max:"50",step:"5",value:y,onChange:t=>n(Number(t.target.value)),className:"mt-1 block w-full bg-gray-800 border-gray-700 rounded py-2 px-3 focus:outline-none focus:ring-2 focus:ring-purple-500 transition-colors"})]})]})]}),e.jsxs("div",{className:"flex gap-4 mt-8",children:[e.jsx("button",{onClick:w,className:"flex-1 bg-purple-600 hover:bg-purple-700 font-bold py-3 px-4 rounded-lg transition-colors",children:"Create & Start"}),e.jsx("button",{onClick:d,className:"flex-1 bg-gray-700 hover:bg-gray-600 font-bold py-3 px-4 rounded-lg transition-colors",children:"Cancel"})]})]})})},b=[{id:"kculture",title:"kCulture",description:"Test your general knowledge in this fast-paced quiz game. Compete with friends and see who knows the most!",imageUrl:"/games/kculture-banner.svg"}];function Q(){const[o,d]=r.useState(!1),[p,c]=r.useState(!1),[u,l]=r.useState(null),g=C(),{partyCode:m}=k();r.useEffect(()=>{S({title:"anthony.lsc - Game Center",description:"Play fun multiplayer games like kCulture, a fast-paced quiz game.",url:"https://www.anthonylsc.fr/games"});const a=s=>{g(`/games/${s.code}`)};if(x.on("party_state",a),x.on("party_not_found",()=>alert("Party code not found.")),m){const s=localStorage.getItem("playerName");s?x.emit("join_party",{partyCode:m,playerName:s}):(d(!0),l(b[0]))}return()=>{x.off("party_state",a),x.off("party_not_found")}},[g,m]);const h=a=>{l(b.find(s=>s.id===a)),d(!0)},y=a=>{l(b.find(s=>s.id===a)),c(!0)},n=()=>{d(!1),c(!1),l(null)},f=a=>{localStorage.setItem("playerName",a.playerName),x.emit("create_party",a)},N=({partyCode:a,playerName:s})=>{localStorage.setItem("playerName",s),x.emit("join_party",{partyCode:a,playerName:s})};return e.jsxs("div",{className:"relative w-full overflow-x-hidden bg-[#0a0a0f] text-white min-h-screen p-4 sm:p-8",children:[e.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[e.jsx("div",{className:"bg-shape-top-left absolute top-0 left-0 w-1/2 h-1/2 bg-purple-900/20 blur-[150px]"}),e.jsx("div",{className:"bg-shape-bottom-right absolute bottom-0 right-0 w-1/2 h-1/2 bg-cyan-900/20 blur-[150px]"})]}),e.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto animate-fade-in",children:[e.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-center mb-4 text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-cyan-400 animate-fade-in-up",children:"Game Center"}),e.jsx("p",{className:"text-center text-gray-400 mb-12 animate-fade-in-up animation-delay-100",children:"Choose a game to play with your friends."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:b.map(a=>e.jsx(P,{game:a,onCreate:y,onJoin:h},a.id))})]}),o&&u&&e.jsx(E,{game:u,onClose:n,onJoin:N}),p&&u&&e.jsx(M,{game:u,onClose:n,onCreate:f})]})}export{Q as default};
