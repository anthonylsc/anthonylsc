const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-BmCGAk7J.js","assets/framer-CXIzzW3M.js","assets/vendor-Nm6aTgQn.js","assets/useSEO-BW7zZpJk.js","assets/ui-B4D-P3CJ.js","assets/MusicPlayer2-v7KYimJC.js","assets/Writings-DnlGgsuk.js","assets/Writings-DybBRZeS.css","assets/Games-Cus20xl8.js","assets/socket-KrrjFy0R.js","assets/GameRoom-DyLFodfR.js","assets/NotFound-DPS-V1nP.js","assets/AnimatedTitle-Cx48_MPt.js"])))=>i.map(i=>d[i]);
import{j as e,m as u}from"./framer-CXIzzW3M.js";import{a as E,r as o,B as I,u as L,R as N,b as g,c as P}from"./vendor-Nm6aTgQn.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))c(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const t of s.addedNodes)t.tagName==="LINK"&&t.rel==="modulepreload"&&c(t)}).observe(document,{childList:!0,subtree:!0});function l(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function c(n){if(n.ep)return;n.ep=!0;const s=l(n);fetch(n.href,s)}})();var b,y=E;b=y.createRoot,y.hydrateRoot;const O="modulepreload",R=function(a){return"/"+a},x={},p=function(i,l,c){let n=Promise.resolve();if(l&&l.length>0){document.getElementsByTagName("link");const t=document.querySelector("meta[property=csp-nonce]"),r=(t==null?void 0:t.nonce)||(t==null?void 0:t.getAttribute("nonce"));n=Promise.allSettled(l.map(m=>{if(m=R(m),m in x)return;x[m]=!0;const d=m.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${h}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":O,d||(f.as="script"),f.crossOrigin="",f.href=m,r&&f.setAttribute("nonce",r),document.head.appendChild(f),d)return new Promise((_,w)=>{f.addEventListener("load",_),f.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${m}`)))})}))}function s(t){const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=t,window.dispatchEvent(r),!r.defaultPrevented)throw t}return n.then(t=>{for(const r of t||[])r.status==="rejected"&&s(r.reason);return i().catch(s)})};function S(){o.useEffect(()=>(document.documentElement.style.scrollBehavior="smooth",()=>{document.documentElement.style.scrollBehavior="auto"}),[]);const a={initial:{opacity:0},animate:{opacity:1,transition:{duration:.6,ease:"easeOut"}}},i={animate:{scale:[1,1.3,1],opacity:[.15,.4,.15],transition:{duration:4,repeat:1/0,ease:"easeInOut"}}},l={animate:t=>({rotate:360,transition:{duration:3+t*.5,repeat:1/0,ease:"linear"}})},c={animate:t=>({y:[0,-12,0],opacity:[.4,1,.4],transition:{duration:1,repeat:1/0,delay:t*.12,ease:"easeInOut"}})},n=t=>({initial:{x:0,y:0,opacity:0,scale:0},animate:{x:Math.cos(t*.628)*100,y:Math.sin(t*.628)*100,opacity:[0,.5,0],scale:[0,1,0],transition:{duration:2.5,repeat:1/0,ease:"easeOut"}}}),s={animate:{scale:[1,1.1,1],transition:{duration:2,repeat:1/0,ease:"easeInOut"}}};return e.jsxs(u.div,{variants:a,initial:"initial",animate:"animate",className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-[#0a0a0f] via-[#1a1a3e] to-[#0f0f1f] relative overflow-hidden",children:[e.jsx(u.div,{variants:i,animate:"animate",className:"absolute top-1/4 -left-20 w-96 h-96 bg-gradient-to-r from-purple-600/30 to-violet-600/20 rounded-full blur-3xl"}),e.jsx(u.div,{variants:i,animate:"animate",transition:{duration:4,repeat:1/0,ease:"easeInOut",delay:1},className:"absolute bottom-1/4 -right-32 w-96 h-96 bg-gradient-to-l from-cyan-500/20 to-blue-600/15 rounded-full blur-3xl"}),e.jsx(u.div,{variants:i,animate:"animate",transition:{duration:4,repeat:1/0,ease:"easeInOut",delay:2},className:"absolute top-1/2 left-1/3 w-72 h-72 bg-gradient-to-br from-pink-500/15 to-rose-600/10 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:[...Array(8)].map((t,r)=>e.jsx(u.div,{variants:n(r),initial:"initial",animate:"animate",className:"absolute w-2 h-2 rounded-full bg-gradient-to-r from-purple-400 to-cyan-400"},r))}),e.jsxs("div",{className:"relative z-10 text-center flex flex-col items-center gap-8",children:[e.jsx(u.div,{variants:l,animate:"animate",custom:0,className:"absolute w-40 h-40 rounded-full border-2 border-transparent border-t-purple-400 border-r-cyan-400 opacity-40"}),e.jsx(u.div,{variants:l,animate:"animate",custom:1,className:"absolute w-32 h-32 rounded-full border-2 border-transparent border-b-purple-500 border-l-cyan-500 opacity-60"}),e.jsx(u.div,{variants:s,animate:"animate",className:"relative w-24 h-24 rounded-full bg-gradient-to-br from-purple-500/30 to-cyan-500/20 flex items-center justify-center border border-purple-400/50",children:e.jsx(u.div,{animate:{rotate:-360},transition:{duration:4,repeat:1/0,ease:"linear"},className:"w-16 h-16 rounded-full border-2 border-transparent border-t-purple-300 border-r-cyan-300"})}),e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.6},className:"flex items-center gap-2 mt-8",children:[e.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-purple-300 via-cyan-300 to-pink-300 bg-clip-text text-transparent",children:"Chargement"}),e.jsx("div",{className:"flex gap-1.5",children:[0,1,2].map(t=>e.jsx(u.div,{variants:c,initial:{y:0},animate:"animate",custom:t,className:"w-2.5 h-2.5 rounded-full bg-gradient-to-b from-purple-400 to-cyan-400"},t))})]}),e.jsx(u.p,{initial:{opacity:0,y:10},animate:{opacity:.5,y:0},transition:{delay:.6,duration:.8},className:"text-sm text-gray-400 font-light tracking-widest",children:"PrÃ©paration de l'univers crÃ©atif"}),e.jsx(u.div,{initial:{opacity:0},animate:{opacity:.8},transition:{delay:.9,duration:.6},className:"w-32 h-1 bg-gradient-to-r from-purple-500/20 via-cyan-500/50 to-purple-500/20 rounded-full mt-4 overflow-hidden",children:e.jsx(u.div,{animate:{x:[-128,128]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},className:"h-full w-1/4 bg-gradient-to-r from-purple-400 to-cyan-400 rounded-full"})})]}),e.jsx(u.div,{initial:{opacity:0},animate:{opacity:.3},transition:{delay:.5,duration:1},className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-full h-32 bg-gradient-to-t from-purple-600/10 via-transparent to-transparent pointer-events-none"})]})}const j=o.createContext(null);function C({children:a}){const[i,l]=o.useState(()=>{try{return localStorage.getItem("site_lang")||"en"}catch{return"en"}});return o.useEffect(()=>{try{localStorage.setItem("site_lang",i)}catch{}},[i]),e.jsx(j.Provider,{value:{lang:i,setLang:l},children:a})}function A(){const a=o.useContext(j);if(!a)throw new Error("useLanguage must be used within LanguageProvider");return a}function T({className:a}){const{lang:i,setLang:l}=A(),[c,n]=o.useState(!1),s=o.useRef(null),t=[{code:"fr",flag:"ðŸ‡«ðŸ‡·",label:"FranÃ§ais"},{code:"en",flag:"ðŸ‡¬ðŸ‡§",label:"English"}],r=t.find(d=>d.code===i);o.useEffect(()=>{const d=h=>{s.current&&!s.current.contains(h.target)&&n(!1)};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[]);const m=d=>{l(d),n(!1)};return e.jsxs("div",{className:`relative ${a}`,ref:s,children:[e.jsxs("button",{onClick:()=>n(!c),"aria-label":"Select language",className:"flex items-center gap-2 bg-gray-800/80 hover:bg-gray-700/80 px-3 py-2 rounded text-white text-sm font-medium border border-gray-600/50 transition-colors",children:[e.jsx("span",{style:{fontSize:20},"aria-hidden":"true",children:r==null?void 0:r.flag}),e.jsx("span",{children:r==null?void 0:r.label})]}),c&&e.jsx("div",{className:"absolute top-full mt-1 right-0 bg-gray-900 border border-gray-600 rounded shadow-lg z-50 min-w-[140px]",children:t.map(d=>e.jsxs("button",{onClick:()=>m(d.code),className:`w-full flex items-center gap-2 px-3 py-2 text-sm text-left transition-colors ${i===d.code?"bg-purple-600/50 text-white":"hover:bg-gray-800 text-gray-200"}`,children:[e.jsx("span",{style:{fontSize:18},"aria-hidden":"true",children:d.flag}),e.jsx("span",{children:d.label})]},d.code))})]})}const V=o.lazy(()=>p(()=>import("./Home-BmCGAk7J.js").then(a=>a.H),__vite__mapDeps([0,1,2,3,4,5]))),v=o.lazy(()=>p(()=>import("./Writings-DnlGgsuk.js").then(a=>a.W),__vite__mapDeps([6,1,2,3,4,7]))),z=o.lazy(()=>p(()=>import("./Games-Cus20xl8.js"),__vite__mapDeps([8,1,2,3,9]))),D=o.lazy(()=>p(()=>import("./GameRoom-DyLFodfR.js"),__vite__mapDeps([10,1,2,9]))),k=o.lazy(()=>p(()=>import("./NotFound-DPS-V1nP.js"),__vite__mapDeps([11,1,2]))),B=o.lazy(()=>p(()=>import("./AnimatedTitle-Cx48_MPt.js"),__vite__mapDeps([12,2])));function W(a){const[i,l]=o.useState(null);return o.useEffect(()=>{var t;let c=!1;const n=(t=window.requestIdleCallback)==null?void 0:t.call(window,()=>{p(()=>import("./MusicPlayer2-v7KYimJC.js"),__vite__mapDeps([5,1,2])).then(r=>{c||l(()=>r.default)})},{timeout:500}),s=setTimeout(()=>{p(()=>import("./MusicPlayer2-v7KYimJC.js"),__vite__mapDeps([5,1,2])).then(r=>{c||l(()=>r.default)})},600);return()=>{var r;c=!0,n&&typeof n=="number"&&((r=window.cancelIdleCallback)==null||r.call(window,n)),clearTimeout(s)}},[]),i?e.jsx(i,{...a}):null}function q(){const a=L(),i=a.pathname.startsWith("/writings"),l=a.pathname.startsWith("/games"),c=i||l;return e.jsxs(e.Fragment,{children:[e.jsx(B,{}),!c&&e.jsx(W,{}),e.jsx("div",{className:"fixed top-4 right-4 z-50",children:e.jsx(T,{})}),e.jsxs(N,{children:[e.jsx(g,{path:"/",element:e.jsx(V,{})}),e.jsx(g,{path:"/writings",element:e.jsx(v,{})}),e.jsx(g,{path:"/writings/:id",element:e.jsx(v,{})}),e.jsx(g,{path:"/games",element:e.jsx(z,{})}),e.jsx(g,{path:"/games/:partyCode",element:e.jsx(D,{})}),e.jsx(g,{path:"*",element:e.jsx(k,{})})]})]})}function F(){const[a,i]=o.useState(!1);return e.jsx(o.Suspense,{fallback:a?null:(i(!0),e.jsx(S,{})),children:e.jsx(C,{children:e.jsx(I,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:e.jsx(q,{})})})})}const $=b(document.getElementById("root"));$.render(e.jsx(P.StrictMode,{children:e.jsx(F,{})}));requestAnimationFrame(()=>{setTimeout(()=>{const a=document.getElementById("splash");a&&(a.style.opacity="0",a.addEventListener("transitionend",()=>{a&&a.parentNode&&a.parentNode.removeChild(a)}))},50)});export{S as L,p as _};
